# esaynetPD9waHAKLyoqCiAqICBDbGFzcyBuYW1lOiBSU1MKICogIEF1dGhvciAgICA6IExlYWRTdGFyIFRlYW0KICogIHdlYnNpdGUgICA6IGh0dHA6Ly93d3cubGVhZHN0YXIuY29tLmNuLwogKiAgQ29weVJpZ2h0IDogTGVhZFN0YXIgVGVhbQogKi8KaWYgKGRlZmluZWQoJ19DTEFTU19SU1NfUEhQJykpIHJldHVybjsKZGVmaW5lKCdfQ0xBU1NfUlNTX1BIUCcsMSk7CgpjbGFzcyBSU1MgewogICAvL3B1YmxpYwogICB2YXIgJHJzc192ZXIgPSAiMi4wIjsKICAgdmFyICRjaGFubmVsX3RpdGxlID0gJyc7CiAgIHZhciAkY2hhbm5lbF9saW5rID0gJyc7CiAgIHZhciAkY2hhbm5lbF9kZXNjcsSrcHRpb24gPSAnJzsKICAgdmFyICRsYW5ndWFnZSA9ICd6aF9DTic7CiAgIHZhciAkY29weXJpZ2h0ID0gJyc7CiAgIHZhciAkd2ViTWFzdGVyID0gJyc7CiAgIHZhciAkcHViRGF0ZSA9ICcnOwogICB2YXIgJGxhc3RCdWlsZERhdGUgPSAnJzsKICAgdmFyICRnZW5lcmF0b3IgPSAnUmVkRm94IFJTUyBHZW5lcmF0b3InOwoKICAgdmFyICRjb250ZW50ID0gJyc7CiAgIHZhciAkaXRlbXMgPSBhcnJheSgpOwoKICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAvLyDlh73mlbDlkI06IFJTUwogICAvLyDlip/og706IOaehOmAoOWHveaVsAogICAvLyDlj4LmlbA6ICR0aXRsZQogICAvLyAkbGluawogICAvLyAkZGVzY3LEq3B0aW9uCiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgZnVuY3Rpb24gUlNTKCR0aXRsZSwgJGxpbmssICRkZXNjcsSrcHRpb24pIHsKICAgICAgICR0aGlzLT5jaGFubmVsX3RpdGxlID0gJHRpdGxlOwogICAgICAgJHRoaXMtPmNoYW5uZWxfbGluayA9ICRsaW5rOwogICAgICAgJHRoaXMtPmNoYW5uZWxfZGVzY3LEq3B0aW9uID0gJGRlc2NyxKtwdGlvbjsKICAgICAgICR0aGlzLT5wdWJEYXRlID0gRGF0ZSgnWS1tLWQgSDppOnMnLHRpbWUoKSk7CiAgICAgICAkdGhpcy0+bGFzdEJ1aWxkRGF0ZSA9IERhdGUoJ1ktbS1kIEg6aTpzJyx0aW1lKCkpOwogICB9CiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgLy8g5Ye95pWw5ZCNOiBBZGRJdGVtCiAgIC8vIOWKn+iDvTog5re75Yqg5LiA5Liq6IqC54K5CiAgIC8vIOWPguaVsDogJHRpdGxlCiAgIC8vICRsaW5rCiAgIC8vICRkZXNjcsSrcHRpb24gICRwdWJEYXRlCiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgZnVuY3Rpb24gQWRkSXRlbSgkdGl0bGUsICRsaW5rLCAkZGVzY3LEq3B0aW9uICwkcHViRGF0ZSkgewogICAgICAgJHRoaXMtPml0ZW1zW10gPSBhcnJheSgndGl0bGUnID0+ICR0aXRsZSAsCiAgICAgICAgICAgICAgICAgICAgICAgICdsaW5rJyA9PiAkbGluaywKICAgICAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyxKtwdGlvbicgPT4gJGRlc2NyxKtwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgJ3B1YkRhdGUnID0+ICRwdWJEYXRlKTsKICAgfQogICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgIC8vIOWHveaVsOWQjTogQnVpbGRSU1MKICAgLy8g5Yqf6IO9OiDnlJ/miJByc3MgeG1s5paH5Lu25YaF5a65CiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgZnVuY3Rpb24gQnVpbGRSU1MoKSB7CiAgICAgICAkcyA9ICI8P3htbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSd1dGYtOCc/PgogICAgICAgL248cnNzIHZlcnNpb249LyIyLjAvIj4vbiI7CiAgICAgICAvLyBzdGFydCBjaGFubmVsCiAgICAgICAkcyAuPSAiPGNoYW5uZWw+L24iOwogICAgICAgJHMgLj0gIjx0aXRsZT48IVtDREFUQVt7JHRoaXMtPmNoYW5uZWxfdGl0bGV9XV0+PC90aXRsZT4vbiI7CiAgICAgICAkcyAuPSAiPGxpbms+PCFbQ0RBVEFbeyR0aGlzLT5jaGFubmVsX2xpbmt9XV0+PC9saW5rPi9uIjsKICAgICAgICRzIC49ICI8ZGVzY3LEq3B0aW9uPjwhW0NEQVRBW3skdGhpcy0+Y2hhbm5lbF9kZXNjcsSrcHRpb259XV0+PC9kZXNjcsSrcHRpb24+L24iOwogICAgICAgJHMgLj0gIjxsYW5ndWFnZT57JHRoaXMtPmxhbmd1YWdlfTwvbGFuZ3VhZ2U+L24iOwogICAgICAgaWYgKCFlbXB0eSgkdGhpcy0+Y29weXJpZ2h0KSkgewogICAgICAgICAgJHMgLj0gIjxjb3B5cmlnaHQ+PCFbQ0RBVEFbeyR0aGlzLT5jb3B5cmlnaHR9XV0+PC9jb3B5cmlnaHQ+L24iOwogICAgICAgfQogICAgICAgaWYgKCFlbXB0eSgkdGhpcy0+d2ViTWFzdGVyKSkgewogICAgICAgICAgJHMgLj0gIjx3ZWJNYXN0ZXI+PCFbQ0RBVEFbeyR0aGlzLT53ZWJNYXN0ZXJ9XV0+PC93ZWJNYXN0ZXI+L24iOwogICAgICAgfQogICAgICAgaWYgKCFlbXB0eSgkdGhpcy0+cHViRGF0ZSkpIHsKICAgICAgICAgICRzIC49ICI8cHViRGF0ZT57JHRoaXMtPnB1YkRhdGV9PC9wdWJEYXRlPi9uIjsKICAgICAgIH0KCiAgICAgICBpZiAoIWVtcHR5KCR0aGlzLT5sYXN0QnVpbGREYXRlKSkgewogICAgICAgICAgJHMgLj0gIjxsYXN0QnVpbGREYXRlPnskdGhpcy0+bGFzdEJ1aWxkRGF0ZX08L2xhc3RCdWlsZERhdGU+L24iOwogICAgICAgfQoKICAgICAgIGlmICghZW1wdHkoJHRoaXMtPmdlbmVyYXRvcikpIHsKICAgICAgICAgICRzIC49ICI8Z2VuZXJhdG9yPnskdGhpcy0+Z2VuZXJhdG9yfTwvZ2VuZXJhdG9yPi9uIjsKICAgICAgIH0KICAgICAgIC8vIHN0YXJ0IGl0ZW1zCiAgICAgICBmb3IgKCRpPTA7JGk8Y291bnQoJHRoaXMtPml0ZW1zKTskaSsrKSB7CiAgICAgICAgICAgJHMgLj0gIjxpdGVtPi9uIjsKICAgICAgICAgICAkcyAuPSAiPHRpdGxlPjwhW0NEQVRBW3skdGhpcy0+aXRlbXNbJGldWyd0aXRsZSddfV1dPjwvdGl0bGU+L24iOwogICAgICAgICAgICRzIC49ICI8bGluaz48IVtDREFUQVt7JHRoaXMtPml0ZW1zWyRpXVsnbGluayddfV1dPjwvbGluaz4vbiI7CiAgICAgICAgICAgJHMgLj0gIjxkZXNjcsSrcHRpb24+PCFbQ0RBVEFbeyR0aGlzLT5pdGVtc1skaV1bJ2Rlc2NyxKtwdGlvbiddfV1dPjwvZGVzY3LEq3B0aW9uPi9uIjsKICAgICAgICAgICAkcyAuPSAiPHB1YkRhdGU+eyR0aGlzLT5pdGVtc1skaV1bJ3B1YkRhdGUnXX08L3B1YkRhdGU+L24iOyAgICAgICAgIAogICAgICAgICAgICRzIC49ICI8L2l0ZW0+L24iOwogICAgICAgfQogICAgICAvLyBjbG9zZSBjaGFubmVsCiAgICAgICRzIC49ICI8L2NoYW5uZWw+L248L3Jzcz4iOwogICAgICAkdGhpcy0+Y29udGVudCA9ICRzOwogICB9CiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgLy8g5Ye95pWw5ZCNOiBTaG93CiAgIC8vIOWKn+iDvTog5bCG5Lqn55Sf55qEcnNz5YaF5a6555u05o6l5omT5Y2w6L6T5Ye6CiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgZnVuY3Rpb24gU2hvdygpIHsKICAgICAgIGlmIChlbXB0eSgkdGhpcy0+Y29udGVudCkpICR0aGlzLT5CdWlsZFJTUygpOwogICAgICAgZWNobygkdGhpcy0+Y29udGVudCk7CiAgIH0KICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAvLyDlh73mlbDlkI06IFNhdmVUb0ZpbGUKICAgLy8g5Yqf6IO9OiDlsIbkuqfnlJ/nmoRyc3PlhoXlrrnkv53lrZjliLDmlofku7YKICAgLy8g5Y+C5pWwOiAkZm5hbWUg6KaB5L+d5a2Y55qE5paH5Lu25ZCNCiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgZnVuY3Rpb24gU2F2ZVRvRmlsZSgkZm5hbWUpIHsKICAgICAgICRoYW5kbGUgPSBmb3BlbigkZm5hbWUsICd3YicpOwogICAgICAgaWYgKCRoYW5kbGUgPT09IGZhbHNlKSAgcmV0dXJuIGZhbHNlOwogICAgICAgZndyaXRlKCRoYW5kbGUsICR0aGlzLT5jb250ZW50KTsKICAgICAgIGZjbG9zZSgkaGFuZGxlKTsKICAgfQp9Cj8+CgpmZWVkLnBocOS7o+eggToKCjw/cGhwCiAgICByZXF1aXJlX29uY2UoJ1JTUy5waHAnKTsKICAgIHJlcXVpcmVfb25jZSgnY29ubi9jb25uZWN0LmluYycpOwogICAgZnVuY3Rpb24gY2hhbmdVVEYoJGNvbil7CiAgICAgICAgJGNvbiA9IGljb252KCJnYjIzMTIiLCJ1dGYtOCIsJGNvbik7CiAgICAgICAgcmV0dXJuICAkY29uOwogICAgfQogICAgJG15UnNzID0gbmV3IFJTUygi6LSt5oi/6ICF5p2C5b+X572RIiwiaHR0cDovL3phemhpLmdvdWZhbmcuY29tIiwi6LSt5oi/6ICF5p2C5b+X572RIik7CiAgICAvLyRteVJzcy0+UlNTKCk7CiAgICAkc3FsID0gInNlbGVjdCBJRCxtX25hbWUsbV9udW0sbV9jbGFzcyxtX2ludHJvLG1fdGltZSBmcm9tIG1fcHJvcGVydHkiOwogICAgJHJlc3VsdCA9IG15c3FsX3F1ZXJ5KCRzcWwsICRjb25uZWN0aW9uKTsKICAgIHdoaWxlICgkcm93ID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCwgTVlTUUxfQVNTT0MpKSB7CiAgICAgICAgICAgICAgICAkc3FsMSA9ICJzZWxlY3QgdGFnX2NvbiBmcm9tIG1fdGFnIHdoZXJlIG1faWQ9Ii4kcm93WydJRCddOwogICAgICAgICAgICAgICAgJHJlc3VsdDEgPSBteXNxbF9xdWVyeSgkc3FsMSwkY29ubmVjdGlvbik7CiAgICAgICAgICAgICAgICB3aGlsZSAoJHJvdzEgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0MSwgTVlTUUxfQVNTT0MpKSB7CiAgICAgICAgICAgICAgICAgICAgJHRhZyA9ICR0YWcuIiAiLiRyb3dbJ3RhZ19jb24nXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRteVJzcy0+QWRkSXRlbShjaGFuZ1VURigkcm93WydtX25hbWUnXS4kcm93WydtX251bSddKSwnaHR0cDovL3phemhpLmdvdWZhbmcuY29tL2h0bWwvJy4kcm93WydJRCddLicuaHRtbCcsY2hhbmdVVEYoJHJvdzFbJyR0YWcnXS4kcm93WydtX2ludHJvJ10pLCRyb3dbJ21fdGltZSddKTsKICAgICAgICAgICAgfQogICAgJG15UnNzLT5CdWlsZFJTUygpOwogICAgJG15UnNzLT5TYXZlVG9GaWxlKCdmZWVkLnJzcycpOwo/Pg==
